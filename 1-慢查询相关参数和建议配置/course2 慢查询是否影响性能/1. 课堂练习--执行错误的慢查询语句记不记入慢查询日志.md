- 问: 慢查询是否影响性能?
- 先给结论: **会**

# 1. 课堂练习--执行错误的慢查询语句记不记入慢查询日志?

- 问: 如果一个执行错误的语句,但是它符合慢查询记录的条件,那么它是否会被记录到慢查询日志中?如何验证你的结论?

A. 记录

B. 不记录

- 验证:将`long_query_time`的值设置为0,然后写一条错误的SQL,看慢查询日志是否会记录即可
- 答案: **执行错误的慢查询语句会被记录到慢查询日志中**

## 1.1 额外问题: 什么样的语句执行错误,且它的执行时间会超过一定的时长?(比如1s)

- 答: 锁等待
- 例: 
	- SESSION1开启一个事务,锁住某行(假设是`id` = 1的这行)
	- 然后SESSION2更新这行数据.当然,此时这个更新操作会被阻塞,直到超过死锁超时时间(默认60s),就会报错

- 答: 在执行一个比较大的查询的过程中,被kill了

- 答: 比如批量插入100w条数据,前面99.9w条`INSERT`语句都正常执行,到第0.1w个`INSERT`语句时,出现主键冲突了